{% extends 'base.html.twig' %}

{% block title %}Hello BusinessCardController!
{% endblock %}

{% block body %}

	<div class="pt-4 row">
		{% for card in businessCards %}
			<div data-href="{{ path('business_card_edit', {id: card.id}) }}" class="card col-4 business-card">
				<div class="card-header no-click">
					<span class="font-weight-bold">{{card.name}}</span>
				</div>
				<ul class="list-group list-group-flush no-click">
					<li class="list-group-item">Company : <span class="font-weight-bold">{{card.company}}</span></li>
					<li class="list-group-item">Email : <span class="font-weight-bold">{{card.email}}</span></li>
					<li class="list-group-item">Phone : <span class="font-weight-bold">{{card.phone}}</span></li>
				</ul>
			</div>
		{% endfor %}
	</div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script>
        $(".business-card").on("click", function(event) {
            const href = event.target.getAttribute("data-href");
            window.open(href, "_self");
        })
    
    </script>
{% endblock %}
